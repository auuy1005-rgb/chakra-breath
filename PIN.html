<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>æƒ…ç·’ç¹ªç•«éˆæ„Ÿæ©Ÿ ğŸ¨</title>
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #444;
      color: #f5f5f5;
    }

    body {
      margin: 0;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 24px;
      background: #444;
      color: #f5f5f5;
      box-sizing: border-box;
    }

    h1 {
      margin: 0 0 8px;
      font-size: 24px;
    }

    .desc {
      margin: 0 0 16px;
      font-size: 14px;
      color: #ddd;
    }

    .layout {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      align-items: flex-start;
    }

    .panel {
      background: #333;
      border-radius: 12px;
      padding: 16px;
      flex: 1 1 320px;
      box-sizing: border-box;
      min-width: 0;
    }

    .panel h2 {
      margin: 0 0 8px;
      font-size: 18px;
    }

    .panel p {
      margin: 4px 0;
      font-size: 14px;
      color: #eee;
      word-break: break-all;
    }

    .tag {
      display: inline-block;
      margin-left: 8px;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 11px;
      background: #666;
      color: #fff;
    }

    .sentence-box {
      font-size: 16px;
      line-height: 1.6;
      background: #222;
      border-radius: 8px;
      padding: 12px;
      margin-top: 8px;
      white-space: pre-wrap;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    button {
      background: #ffb84d;
      border: none;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 14px;
      cursor: pointer;
      color: #222;
      font-weight: 600;
    }

    button:hover {
      background: #ffc76e;
    }

    button.secondary {
      background: #666;
      color: #f5f5f5;
    }

    button.secondary:hover {
      background: #777;
    }

    .small-label {
      font-size: 12px;
      color: #ccc;
      margin-top: 4px;
    }

    .result-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }

    .result-card {
      background: #222;
      border-radius: 10px;
      padding: 10px;
      font-size: 13px;
      line-height: 1.5;
    }

    .result-card-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: #ffd27f;
    }

    .unsplash-panel {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .unsplash-images {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-start;
      align-items: stretch;
      margin-bottom: 24px;
    }

    .unsplash-card {
      flex: 1 1 180px;
      background: #555;
      border-radius: 10px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      min-width: 0;
    }

    .unsplash-card img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: contain;
      background: #222;
    }

    .unsplash-info {
      padding: 8px 10px;
      font-size: 12px;
      color: #eee;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .unsplash-author {
      font-weight: 600;
    }

    .unsplash-link a {
      color: #ffd27f;
      text-decoration: none;
      word-break: break-all;
    }

    .unsplash-link a:hover {
      text-decoration: underline;
    }

    .code-hint {
      font-size: 12px;
      color: #bbb;
      margin-top: 8px;
      line-height: 1.4;
    }

    @media (max-width: 768px) {
      body {
        padding: 16px;
      }

      .layout {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>æƒ…ç·’ç¹ªç•«éˆæ„Ÿæ©Ÿ ğŸ¨</h1>
    <p class="desc">
      æŒ‰ä¸€ä¸‹æŒ‰éˆ•ï¼Œç³»çµ±æœƒå¾ï¼š<br />
      aï¼šä¸»é«”è³‡æ–™åº«ï¼ˆè˜‹æœã€å°å‹•ç‰©ã€ç‰©ä»¶â€¦ï¼‰<br />
      bï¼šè§’è‰²ç‰¹æ€§è³‡æ–™åº«ï¼ˆå–œæ­¡æ—©æ™¨çš„ã€æ…¢æ…¢ç”Ÿæ´»çš„â€¦ï¼‰<br />
      cï¼šæƒ…ç·’ï¼ç‹€æ…‹è³‡æ–™åº«ï¼ˆæ­£åœ¨å±•é–‹æŸ”å’Œçš„ä¸€å¤©ã€ä»Šå¤©ç‹€æ…‹å¾ˆæ¸…çˆ½â€¦ï¼‰<br />
      dï¼šå¥å‹æ¨¡æ¿è³‡æ–™åº«ï¼ˆæŠŠ a/b/c å¡é€²å»è®Šæˆä¸€å¥å®Œæ•´é¡Œç›®ï¼‰<br />
      å†å¹«ä½ é…å…©å¼µ Unsplash éš¨æ©Ÿåƒè€ƒåœ–ï¼Œç•¶æˆä»Šå¤©çš„ç•«åœ–èµ·é»ã€‚
    </p>
  </header>

  <main class="layout">
    <!-- å·¦å´ï¼šæ–‡å­—çµæœå€ -->
    <section class="panel">
      <h2>éš¨æ©ŸæŠ½é¡Œçµæœ âœ¨</h2>
      <div class="result-grid">
        <div class="result-card">
          <div class="result-card-title">aï½œä¸»é«”</div>
          <p id="result-a-text">ï¼ˆç­‰ä½ æŒ‰ä¸‹æŒ‰éˆ•ï¼‰</p>
          <p class="small-label">idï¼š<span id="result-a-id">-</span>ï½œtagï¼š<span id="result-a-tag">-</span></p>
        </div>
        <div class="result-card">
          <div class="result-card-title">bï½œè§’è‰²ç‰¹æ€§</div>
          <p id="result-b-text">ï¼ˆç­‰ä½ æŒ‰ä¸‹æŒ‰éˆ•ï¼‰</p>
          <p class="small-label">idï¼š<span id="result-b-id">-</span></p>
        </div>
        <div class="result-card">
          <div class="result-card-title">cï½œæƒ…ç·’ï¼ç‹€æ…‹</div>
          <p id="result-c-text">ï¼ˆç­‰ä½ æŒ‰ä¸‹æŒ‰éˆ•ï¼‰</p>
          <p class="small-label">idï¼š<span id="result-c-id">-</span></p>
        </div>
        <div class="result-card">
          <div class="result-card-title">dï½œå¥å‹æ¨¡æ¿</div>
          <p id="result-d-id">ï¼ˆç­‰ä½ æŒ‰ä¸‹æŒ‰éˆ•ï¼‰</p>
          <p class="small-label">æ¨¡æ¿ï¼š<span id="result-d-template">-</span></p>
        </div>
      </div>

      <div class="sentence-box" id="final-sentence">
        ğŸ‘‰ æŒ‰ã€ŒæŠ½ä¸€é¡Œã€ä¾†ç”Ÿæˆä¸€å¥å®Œæ•´çš„ç•«åœ–é¡Œç›®
      </div>

      <div class="btn-row">
        <button id="generateBtn">æŠ½ä¸€é¡Œ ğŸ²</button>
      </div>

      <p class="code-hint">
        æ¯ä¸€æ¬¡æœƒé‡æ–°æŠ½ a / b / c / dã€‚ä¹‹å¾Œå¦‚æœè¦åšã€Œé– a åªæŠ½ bcdã€ä¹‹é¡çš„é€²éšç‰ˆï¼Œ
        å¯ä»¥å†åŠ æŒ‰éˆ•è·Ÿæ¢ä»¶é‚è¼¯ã€‚
      </p>
    </section>

    <!-- å³å´ï¼šåœ–ç‰‡éˆæ„Ÿå€ -->
    <section class="panel unsplash-panel">
      <h2>Unsplash éš¨æ©Ÿåƒè€ƒåœ– ğŸ–¼ï¸</h2>
      <p class="small-label">
        ç›®å‰è¨­å®šï¼šåªéš¨æ©Ÿï¼Œä¸ä¸‹é—œéµå­—ã€‚<br />
        å¦‚æœå‡ºç¾ç°ç°çš„æˆ–å£æ‰çš„åœ–ï¼Œå¯ä»¥æŒ‰ã€Œé‡æŠ½åœ–ç‰‡ã€é‡æ–°è¼‰å…¥ã€‚
      </p>

      <div class="unsplash-images">
        <div class="unsplash-card">
          <img id="unsplash-img-1" alt="Unsplash åœ–ç‰‡ 1" />
          <div class="unsplash-info">
            <div class="unsplash-author" id="unsplash-author-1">ä½œè€…ï¼š-</div>
            <div class="unsplash-link">ä¾†æºï¼š<a id="unsplash-link-1" href="#" target="_blank" rel="noopener noreferrer">-</a></div>
          </div>
        </div>
        <div class="unsplash-card">
          <img id="unsplash-img-2" alt="Unsplash åœ–ç‰‡ 2" />
          <div class="unsplash-info">
            <div class="unsplash-author" id="unsplash-author-2">ä½œè€…ï¼š-</div>
            <div class="unsplash-link">ä¾†æºï¼š<a id="unsplash-link-2" href="#" target="_blank" rel="noopener noreferrer">-</a></div>
          </div>
        </div>
      </div>

      <div class="btn-row">
        <button class="secondary" id="refreshUnsplashBtn">é‡æŠ½åœ–ç‰‡ ğŸ”„</button>
      </div>

      <p class="code-hint">
        åœ–ç‰‡ä¾†æºä½¿ç”¨ Unsplash çš„éš¨æ©Ÿ APIã€‚<br />
        æœªä¾†ä½ å¦‚æœæƒ³åšã€Œè·Ÿ a.tag å°æ‡‰æŸç¨®é—œéµå­—ã€ç‰ˆï¼Œå¯ä»¥åœ¨ fetch å‰é¢åŠ æ¢ä»¶ã€‚
      </p>
    </section>
  </main>

  <!-- Pinterest å®˜æ–¹ widget è…³æœ¬ï¼ˆå°±ç®—ç•™è‘—ä¹Ÿä¸æœƒå½±éŸ¿ Unsplashï¼‰ -->
  <script async defer src="https://assets.pinterest.com/js/pinit.js"></script>
  <script src="db.js"></script>

  <script>
    // è³‡æ–™åº« dbA / dbB / dbC / dbD ç”±å¤–éƒ¨ db.js è¼‰å…¥

    // æŠ½ä¸€å€‹å…ƒç´ 
    function pickRandom(list) {
      return list[Math.floor(Math.random() * list.length)];
    }

    // çµ„åˆå¥å­
    function buildPrompt() {
      const a = pickRandom(dbA);
      const b = pickRandom(dbB);
      const c = pickRandom(dbC);
      const d = pickRandom(dbD);

      let sentence = d.template;
      sentence = sentence.replace("{a}", a.text);
      sentence = sentence.replace("{b}", b.text);
      sentence = sentence.replace("{c}", c.text);

      return { a, b, c, d, sentence };
    }

    // æŠŠçµæœå¡é€²ç•«é¢
    const resultAText = document.getElementById("result-a-text");
    const resultAId = document.getElementById("result-a-id");
    const resultATag = document.getElementById("result-a-tag");

    const resultBText = document.getElementById("result-b-text");
    const resultBId = document.getElementById("result-b-id");

    const resultCText = document.getElementById("result-c-text");
    const resultCId = document.getElementById("result-c-id");

    const resultDId = document.getElementById("result-d-id");
    const resultDTemplate = document.getElementById("result-d-template");

    const finalSentenceBox = document.getElementById("final-sentence");
    const generateBtn = document.getElementById("generateBtn");

    function renderPrompt() {
      const { a, b, c, d, sentence } = buildPrompt();

      resultAText.textContent = a.text;
      resultAId.textContent = a.id;
      resultATag.textContent = a.tag || "-";

      resultBText.textContent = b.text;
      resultBId.textContent = b.id;

      resultCText.textContent = c.text;
      resultCId.textContent = c.id;

      resultDId.textContent = d.id;
      resultDTemplate.textContent = d.template;

      finalSentenceBox.textContent = sentence;
    }

    generateBtn.addEventListener("click", renderPrompt);

    // ---- Unsplash éš¨æ©Ÿåœ– ----
    const unsplashImg1 = document.getElementById("unsplash-img-1");
    const unsplashAuthor1 = document.getElementById("unsplash-author-1");
    const unsplashLink1 = document.getElementById("unsplash-link-1");

    const unsplashImg2 = document.getElementById("unsplash-img-2");
    const unsplashAuthor2 = document.getElementById("unsplash-author-2");
    const unsplashLink2 = document.getElementById("unsplash-link-2");

    const refreshUnsplashBtn = document.getElementById("refreshUnsplashBtn");

    async function setUnsplash(imgEl, authorEl, linkEl) {
      try {
        const response = await fetch("https://source.unsplash.com/random/800x600/?mood");
        // response.url æœƒæ˜¯å¯¦éš›åœ–ç‰‡ç¶²å€
        imgEl.src = response.url;

        if (authorEl && linkEl) {
          authorEl.textContent = "ä½œè€…ï¼šéš¨æ©Ÿ";
          linkEl.textContent = response.url;
          linkEl.href = response.url;
        }
      } catch (err) {
        imgEl.alt = "è¼‰å…¥åœ–ç‰‡å¤±æ•—ï¼Œå¯ä»¥å†æŒ‰ä¸€æ¬¡é‡æŠ½åœ–ç‰‡ã€‚";
        if (authorEl) authorEl.textContent = "ä½œè€…ï¼š-";
        if (linkEl) {
          linkEl.textContent = "è¼‰å…¥å¤±æ•—";
          linkEl.href = "#";
        }
      }
    }

    function refreshUnsplash() {
      // ç¬¬ä¸€å¼µåœ–
      setUnsplash(unsplashImg1, unsplashAuthor1, unsplashLink1);
      // ç¬¬äºŒå¼µåœ–
      setUnsplash(unsplashImg2, unsplashAuthor2, unsplashLink2);
    }

    refreshUnsplashBtn.addEventListener("click", refreshUnsplash);

    // é€²é é¢æ™‚å…ˆè¼‰ä¸€çµ„
    refreshUnsplash();
  </script>
</body>
</html>
